# CSVå¤§æ•°æ®ç”Ÿæˆå·¥å…·ä½¿ç”¨è¯´æ˜

æœ¬å·¥å…·æä¾›äº†ä¸¤ç§æ–¹å¼æ¥ç”ŸæˆåŸºäº `sample-data.csv` æ ¼å¼çš„å¤§è§„æ¨¡æµ‹è¯•æ•°æ®ã€‚

## ğŸ“ æ–‡ä»¶è¯´æ˜

- `generate_large_csv.py` - Pythonç”Ÿæˆè„šæœ¬ï¼ˆç‹¬ç«‹ä½¿ç”¨ï¼‰
- `generate_csv.sh` - ShellåŒ…è£…è„šæœ¬ï¼ˆæ¨èä½¿ç”¨ï¼‰
- `CSV_GENERATOR_README.md` - æœ¬è¯´æ˜æ–‡æ¡£

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨Shellè„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# ç”Ÿæˆ100ä¸‡è¡Œæ•°æ®ï¼ˆé»˜è®¤ï¼‰
./generate_csv.sh

# ç”ŸæˆæŒ‡å®šè¡Œæ•°çš„æ•°æ®
./generate_csv.sh 500000

# æŒ‡å®šè¡Œæ•°å’Œè¾“å‡ºæ–‡ä»¶å
./generate_csv.sh 2000000 my_large_data.csv
```

### æ–¹æ³•äºŒï¼šç›´æ¥ä½¿ç”¨Pythonè„šæœ¬

```bash
# ä½¿ç”¨é»˜è®¤é…ç½®ï¼ˆ100ä¸‡è¡Œï¼‰
python3 generate_large_csv.py

# ä¿®æ”¹è„šæœ¬ä¸­çš„å‚æ•°åè¿è¡Œ
# ç¼–è¾‘ TOTAL_ROWS å’Œ OUTPUT_FILE å˜é‡
```

## ğŸ“Š ç”Ÿæˆçš„æ•°æ®æ ¼å¼

ç”Ÿæˆçš„CSVæ–‡ä»¶åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| id | æ•´æ•° | å”¯ä¸€æ ‡è¯†ç¬¦ | 1, 2, 3... |
| name | å­—ç¬¦ä¸² | ä¸­æ–‡å§“å | å¼ ä¸‰, æå›› |
| age | æ•´æ•° | å¹´é¾„(22-65) | 25, 30, 35 |
| salary | æµ®ç‚¹æ•° | è–ªèµ„(30000-500000) | 50000.50, 60000.75 |
| is_active | å¸ƒå°”å€¼ | æ˜¯å¦æ¿€æ´» | true, false |
| created_date | æ—¥æœŸ | åˆ›å»ºæ—¥æœŸ(2020-2024) | 2023-01-01 |
| email | å­—ç¬¦ä¸² | é‚®ç®±åœ°å€ | user1@example.com |
| department | å­—ç¬¦ä¸² | éƒ¨é—¨åç§° | æŠ€æœ¯éƒ¨, é”€å”®éƒ¨ |

## âš™ï¸ é…ç½®å‚æ•°

### Pythonè„šæœ¬é…ç½®

ç¼–è¾‘ `generate_large_csv.py` ä¸­çš„ä»¥ä¸‹å‚æ•°ï¼š

```python
TOTAL_ROWS = 1000000      # ç”Ÿæˆè¡Œæ•°
OUTPUT_FILE = "large_sample_data.csv"  # è¾“å‡ºæ–‡ä»¶å
BATCH_SIZE = 10000        # æ‰¹å¤„ç†å¤§å°
```

### æ•°æ®æ± è‡ªå®šä¹‰

å¯ä»¥ä¿®æ”¹ä»¥ä¸‹æ•°æ®æ± æ¥è‡ªå®šä¹‰ç”Ÿæˆçš„æ•°æ®ï¼š

```python
CHINESE_SURNAMES = ["å¼ ", "æ", "ç‹", ...]  # å§“æ°
CHINESE_NAMES = ["ä¼Ÿ", "èŠ³", "å¨œ", ...]     # åå­—
DEPARTMENTS = ["æŠ€æœ¯éƒ¨", "é”€å”®éƒ¨", ...]      # éƒ¨é—¨
EMAIL_DOMAINS = ["example.com", ...]        # é‚®ç®±åŸŸå
```

## ğŸ“ˆ æ€§èƒ½è¯´æ˜

### ç”Ÿæˆé€Ÿåº¦
- **å°æ•°æ®é‡** (< 10ä¸‡è¡Œ): å‡ ç§’é’Ÿ
- **ä¸­ç­‰æ•°æ®é‡** (10-100ä¸‡è¡Œ): 1-5åˆ†é’Ÿ
- **å¤§æ•°æ®é‡** (> 100ä¸‡è¡Œ): 5-30åˆ†é’Ÿ

### æ–‡ä»¶å¤§å°ä¼°ç®—
- **æ¯è¡Œçº¦100å­—èŠ‚**
- **100ä¸‡è¡Œ â‰ˆ 100MB**
- **1000ä¸‡è¡Œ â‰ˆ 1GB**

### å†…å­˜ä½¿ç”¨
- ä½¿ç”¨æ‰¹å¤„ç†æœºåˆ¶ï¼Œå†…å­˜å ç”¨ç¨³å®šåœ¨50MBä»¥å†…
- æ”¯æŒç”Ÿæˆä»»æ„å¤§å°çš„æ–‡ä»¶è€Œä¸ä¼šå†…å­˜æº¢å‡º

## ğŸ”§ ä½¿ç”¨ç¤ºä¾‹

### ç”Ÿæˆä¸åŒè§„æ¨¡çš„æµ‹è¯•æ•°æ®

```bash
# å°è§„æ¨¡æµ‹è¯•ï¼ˆ1ä¸‡è¡Œï¼‰
./generate_csv.sh 10000 small_test.csv

# ä¸­ç­‰è§„æ¨¡æµ‹è¯•ï¼ˆ50ä¸‡è¡Œï¼‰
./generate_csv.sh 500000 medium_test.csv

# å¤§è§„æ¨¡æµ‹è¯•ï¼ˆ500ä¸‡è¡Œï¼‰
./generate_csv.sh 5000000 large_test.csv
```

### ä¸CSVå¯¼å…¥å·¥å…·é…åˆä½¿ç”¨

```bash
# 1. ç”Ÿæˆæµ‹è¯•æ•°æ®
./generate_csv.sh 1000000 test_data.csv

# 2. å¯¼å…¥åˆ°MySQLæ•°æ®åº“
java -jar target/csv-import-1.0.0.jar \
  test_data.csv \
  "jdbc:mysql://localhost:3306/testdb" \
  root \
  password \
  "id,email" \
  5000 \
  2000
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æƒé™é”™è¯¯**
   ```bash
   chmod +x generate_csv.sh
   chmod +x generate_large_csv.py
   ```

2. **Pythonæœªå®‰è£…**
   ```bash
   # macOS
   brew install python3
   
   # Ubuntu/Debian
   sudo apt-get install python3
   ```

3. **ç£ç›˜ç©ºé—´ä¸è¶³**
   - æ£€æŸ¥å¯ç”¨ç©ºé—´ï¼š`df -h`
   - å‡å°‘ç”Ÿæˆè¡Œæ•°æˆ–æ¸…ç†ç£ç›˜ç©ºé—´

4. **ç¼–ç é—®é¢˜**
   - ç¡®ä¿ç»ˆç«¯æ”¯æŒUTF-8ç¼–ç 
   - ç”Ÿæˆçš„æ–‡ä»¶ä½¿ç”¨UTF-8ç¼–ç 

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **SSDç¡¬ç›˜**ï¼šä½¿ç”¨SSDå¯æ˜¾è‘—æå‡å†™å…¥é€Ÿåº¦
2. **è°ƒæ•´æ‰¹å¤„ç†å¤§å°**ï¼šæ ¹æ®å†…å­˜æƒ…å†µè°ƒæ•´ `BATCH_SIZE`
3. **å¹¶è¡Œç”Ÿæˆ**ï¼šå¯ä»¥åˆ†æ®µç”Ÿæˆååˆå¹¶æ–‡ä»¶

## ğŸ“ è‡ªå®šä¹‰æ‰©å±•

### æ·»åŠ æ–°å­—æ®µ

åœ¨Pythonè„šæœ¬ä¸­ä¿®æ”¹ `generate_row()` å‡½æ•°ï¼š

```python
def generate_row(row_id):
    # ç°æœ‰å­—æ®µ...
    
    # æ·»åŠ æ–°å­—æ®µ
    phone = f"1{random.randint(3000000000, 9999999999)}"
    address = f"{random.choice(['åŒ—äº¬', 'ä¸Šæµ·', 'å¹¿å·'])}å¸‚"
    
    return [
        row_id, name, age, salary, is_active, 
        created_date, email, department,
        phone, address  # æ–°å­—æ®µ
    ]
```

### ä¿®æ”¹æ•°æ®åˆ†å¸ƒ

```python
# è°ƒæ•´è–ªèµ„åˆ†å¸ƒ
if random.random() < 0.6:  # 60%ä½è–ª
    salary = round(random.uniform(30000, 80000), 2)
elif random.random() < 0.9:  # 30%ä¸­è–ª
    salary = round(random.uniform(80000, 150000), 2)
else:  # 10%é«˜è–ª
    salary = round(random.uniform(150000, 500000), 2)
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **æµ‹è¯•å…ˆè¡Œ**ï¼šå…ˆç”Ÿæˆå°é‡æ•°æ®æµ‹è¯•å¯¼å…¥æµç¨‹
2. **åˆ†æ‰¹å¤„ç†**ï¼šå¤§æ–‡ä»¶å¯ä»¥åˆ†æˆå¤šä¸ªå°æ–‡ä»¶å¤„ç†
3. **å¤‡ä»½é‡è¦æ•°æ®**ï¼šç”Ÿæˆå‰å¤‡ä»½ç°æœ‰æ•°æ®
4. **ç›‘æ§èµ„æº**ï¼šæ³¨æ„ç£ç›˜ç©ºé—´å’Œç”Ÿæˆæ—¶é—´
5. **éªŒè¯æ•°æ®**ï¼šç”Ÿæˆåæ£€æŸ¥æ•°æ®æ ¼å¼å’Œå®Œæ•´æ€§

---

**æç¤º**ï¼šç”Ÿæˆçš„æ•°æ®ä»…ç”¨äºæµ‹è¯•ç›®çš„ï¼Œè¯·å‹¿ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚